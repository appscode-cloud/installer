
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  name: managedclustersetprofiles.profile.k8s.appscode.com
spec:
  group: profile.k8s.appscode.com
  names:
    kind: ManagedClusterSetProfile
    listKind: ManagedClusterSetProfileList
    plural: managedclustersetprofiles
    singular: managedclustersetprofile
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.phase
      name: Status
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ManagedClusterSetProfile is the Schema for the managedclustersetprofiles
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ManagedClusterSetProfileSpec defines the desired state of
              ManagedClusterSetProfile
            properties:
              features:
                additionalProperties:
                  properties:
                    chart:
                      description: Chart specifies the chart information that will
                        be used by the FluxCD to install the respective feature
                      properties:
                        createNamespace:
                          type: boolean
                        name:
                          description: Name specifies the name of the chart
                          type: string
                        namespace:
                          description: Namespace where the respective feature resources
                            will be deployed.
                          type: string
                        sourceRef:
                          description: SourceRef specifies the source of the chart
                          properties:
                            apiGroup:
                              type: string
                            kind:
                              type: string
                            name:
                              description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            namespace:
                              description: 'Namespace of the referent. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                              type: string
                          required:
                          - name
                          type: object
                        valuesFiles:
                          description: Alternative list of values files to use as
                            the chart values (values.yaml is not included by default),
                            expected to be a relative path in the SourceRef. Values
                            files are merged in the order of this list with the last
                            file overriding the first. Ignored when omitted.
                          items:
                            type: string
                          type: array
                        version:
                          description: Version specifies the version of the chart.
                          type: string
                      required:
                      - name
                      - sourceRef
                      type: object
                    values:
                      description: Values holds the values for this Helm release.
                      x-kubernetes-preserve-unknown-fields: true
                    valuesFrom:
                      description: ValuesFrom holds references to resources containing
                        Helm values for this HelmRelease, and information about how
                        they should be merged.
                      items:
                        description: 'copied from: https://github.com/fluxcd/helm-controller/blob/v0.37.4/api/v2beta2/reference_types.go#L45-L80
                          ValuesReference contains a reference to a resource containing
                          Helm values, and optionally the key they can be found at.'
                        properties:
                          kind:
                            description: Kind of the values referent, valid values
                              are ('Secret', 'ConfigMap').
                            enum:
                            - Secret
                            - ConfigMap
                            type: string
                          name:
                            description: Name of the values referent. Should reside
                              in the same namespace as the referring resource.
                            maxLength: 253
                            minLength: 1
                            type: string
                          optional:
                            description: Optional marks this ValuesReference as optional.
                              When set, a not found error for the values reference
                              is ignored, but any ValuesKey, TargetPath or transient
                              error will still result in a reconciliation failure.
                            type: boolean
                          targetPath:
                            description: TargetPath is the YAML dot notation path
                              the value should be merged at. When set, the ValuesKey
                              is expected to be a single flat value. Defaults to 'None',
                              which results in the values getting merged at the root.
                            maxLength: 250
                            pattern: ^([a-zA-Z0-9_\-.\\\/]|\[[0-9]{1,5}\])+$
                            type: string
                          valuesKey:
                            description: ValuesKey is the data key where the values.yaml
                              or a specific value can be found at. Defaults to 'values.yaml'.
                            maxLength: 253
                            pattern: ^[\-._a-zA-Z0-9]+$
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                      type: array
                  type: object
                type: object
              namespaces:
                items:
                  type: string
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
