apiVersion: source.toolkit.fluxcd.io/v1
kind: GitRepository
metadata:
  name: kubedb-gateway
  namespace: {{ .Release.Namespace }}
spec:
{{- with (index .Values "repositories" "kubedb-gateway") }}
  {{- with .url }}
  url: {{ . }}
  {{- end }}

  {{- with .interval }}
  interval: {{ . }}
  {{- end }}

  {{- with .type }}
  type: {{ . }}
  {{- end }}

  {{- with .provider }}
  provider: {{ . }}
  {{- end }}

  {{- with .secretName }}
  secretRef:
    name: {{ include "opscenter-features.fullname" $ }}-{{ . }}
  {{- end }}
{{- end }}
