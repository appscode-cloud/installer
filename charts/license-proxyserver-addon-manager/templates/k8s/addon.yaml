{{- if not .Values.kubeconfigSecretName }}

{{- $restpl := $.Files.Get "common/addon/namespace.yaml" -}}
{{ tpl $restpl $ }}
---
{{- $restpl := $.Files.Get "common/addon/clustermanagementaddon.yaml" -}}
{{ tpl $restpl $ }}
---
{{- $restpl := $.Files.Get "common/addon/clustersetbinding.yaml" -}}
{{ tpl $restpl $ }}
---
{{- $restpl := $.Files.Get "common/addon/placement.yaml" -}}
{{ tpl $restpl $ }}
---
{{- $restpl := $.Files.Get "common/addon/config-secret.yaml" -}}
{{ tpl $restpl $ }}
---
{{- $restpl := $.Files.Get "common/work-agent/perm.yaml" -}}
{{ tpl $restpl $ }}

{{- end }}
